{"version":3,"sources":["lib/ListenError.js","monitoring-sdk.js"],"names":["ListenError","initError","initPromiseError","initConsoleError","window","addEventListener","message","filename","lineno","colno","error","console","log","event","reason","consoleError","self","arguments","apply","MonitoringSDK","init","monitoringSDK"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;;;IAQaA;;;AACT,yBAAc;AAAA;;AACV,SAAKC,SAAL;AACA,SAAKC,gBAAL;AACA,SAAKC,gBAAL;AACH;AAED;;;;;;;gCAGY;AACRC,MAAAA,MAAM,CAACC,gBAAP,CAAwB,OAAxB,EAAiC,gBAM3B;AAAA,YALFC,OAKE,QALFA,OAKE;AAAA,YAJFC,QAIE,QAJFA,QAIE;AAAA,YAHFC,MAGE,QAHFA,MAGE;AAAA,YAFFC,KAEE,QAFFA,KAEE;AAAA,YADFC,KACE,QADFA,KACE;AACFC,QAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBN,OAArB;AACAK,QAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBL,QAArB;AACAI,QAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBJ,MAArB;AACAG,QAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBH,KAArB;AACAE,QAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,KAArB;AACH,OAZD;AAaH;AAED;;;;;;uCAGmB;AACfN,MAAAA,MAAM,CAACC,gBAAP,CAAwB,oBAAxB,EAA8C,UAAAQ,KAAK,EAAI;AACnDF,QAAAA,OAAO,CAACC,GAAR,CAAY,wBAAwBC,KAAK,CAACC,MAA1C,EADmD,CACA;AACtD,OAFD;AAGH;AAED;;;;;;uCAGmB;AACf,UAAIC,YAAY,GAAGX,MAAM,CAACO,OAAP,CAAeD,KAAlC;AACA,UAAMM,IAAI,GAAG,IAAb;;AACAZ,MAAAA,MAAM,CAACO,OAAP,CAAeD,KAAf,GAAuB,YAAW;AAC9BC,QAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCK,SAAhC;AACAF,QAAAA,YAAY,CAACG,KAAb,CAAmBd,MAAnB,EAA2Ba,SAA3B;AACH,OAHD;AAIH;;;;;;;;;;AC9CL;;;;;;;;IAIME;;;AACF,2BAAc;AAAA;;AACV,SAAKC,IAAL;AACH;;;;2BACM;AACH,UAAIpB,wBAAJ;AACH;;;;;;AAGLI,MAAM,CAACiB,aAAP,GAAuB,IAAIF,aAAJ,EAAvB","file":"monitoring-sdk.map","sourceRoot":"..","sourcesContent":["/*\n * @Author: wenquan.huang \n * @Date: 2018-11-16 17:15:09 \n * @Last Modified by: wq599263163@163.com\n * @Last Modified time: 2018-11-16 18:45:01\n */\n\n\nexport class ListenError {\n    constructor() {\n        this.initError();\n        this.initPromiseError();\n        this.initConsoleError();\n    }\n\n    /**\n     * 初始化全局错误监听\n     */\n    initError() {\n        window.addEventListener('error', ({\n            message,\n            filename,\n            lineno,\n            colno,\n            error\n        }) => {\n            console.log(\"错误信息：\", message);\n            console.log(\"出错文件：\", filename);\n            console.log(\"出错行号：\", lineno);\n            console.log(\"出错列号：\", colno);\n            console.log(\"错误详情：\", error);\n        })\n    }\n\n    /**\n     * 初始化 promise 错误 监听\n     */\n    initPromiseError() {\n        window.addEventListener('unhandledrejection', event => {\n            console.log('unhandledrejection:' + event.reason); // 捕获后自定义处理\n        });\n    }\n\n    /**\n     * 劫持console.error 错误\n     */\n    initConsoleError() {\n        let consoleError = window.console.error;\n        const self = this;\n        window.console.error = function() {\n            console.log('initConsoleError', arguments)\n            consoleError.apply(window, arguments);\n        };\n    }\n\n}","/*\n * @Author: wenquan.huang \n * @Date: 2018-11-15 13:28:51 \n * @Last Modified by: wq599263163@163.com\n * @Last Modified time: 2018-11-16 17:27:30\n */\n\nimport {\n    ListenError\n} from './lib/ListenError'\n\nclass MonitoringSDK {\n    constructor() {\n        this.init()\n    }\n    init() {\n        new ListenError()\n    }\n}\n\nwindow.monitoringSDK = new MonitoringSDK()"]}
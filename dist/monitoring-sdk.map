{"version":3,"sources":["lib/ListenError.js","monitoring-sdk.js"],"names":["ListenError","initError","initPromiseError","initConsoleError","window","addEventListener","message","filename","lineno","colno","error","console","log","event","reason","consoleError","arguments","apply","MonitoringSDK","init","monitoringSDK"],"mappings":";AAqDK,aAAA,SAAA,EAAA,EAAA,GAAA,KAAA,aAAA,GAAA,MAAA,IAAA,UAAA,qCAAA,SAAA,EAAA,EAAA,GAAA,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,OAAA,IAAA,CAAA,IAAA,EAAA,EAAA,GAAA,EAAA,WAAA,EAAA,aAAA,EAAA,EAAA,cAAA,EAAA,UAAA,IAAA,EAAA,UAAA,GAAA,OAAA,eAAA,EAAA,EAAA,IAAA,IAAA,SAAA,EAAA,EAAA,EAAA,GAAA,OAAA,GAAA,EAAA,EAAA,UAAA,GAAA,GAAA,EAAA,EAAA,GAAA,EAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,iBAAA,EA7CQA,IAAAA,EA6CR,WA5Ca,SAAA,IAAA,EAAA,KAAA,GACLC,KAAAA,YACAC,KAAAA,mBACAC,KAAAA,mBAyCR,OAAA,EAAA,EAAA,CAAA,CAAA,IAAA,YAnCW,MAAA,WACRC,OAAOC,iBAAiB,QAAS,SAM3B,GALFC,IAAAA,EAAAA,EAAAA,QACAC,EAAAA,EAAAA,SACAC,EAAAA,EAAAA,OACAC,EAAAA,EAAAA,MACAC,EAAAA,EAAAA,MAEAC,QAAQC,IAAI,QAASN,GACrBK,QAAQC,IAAI,QAASL,GACrBI,QAAQC,IAAI,QAASJ,GACrBG,QAAQC,IAAI,QAASH,GACrBE,QAAQC,IAAI,QAASF,OAuB5B,CAAA,IAAA,mBAhBkB,MAAA,WACfN,OAAOC,iBAAiB,qBAAsB,SAAAQ,GAC1CF,QAAQC,IAAI,sBAAwBC,EAAMC,YAcjD,CAAA,IAAA,mBAPkB,MAAA,WACXC,IAAAA,EAAeX,OAAOO,QAAQD,MAElCN,OAAOO,QAAQD,MAAQ,WACnBC,QAAQC,IAAI,mBAAoBI,WAChCD,EAAaE,MAAMb,OAAQY,gBAElC,EAAA,GAAA,QAAA,YAAA;;ACjCL,aAbA,IAAA,EAAA,QAAA,qBAaA,SAAA,EAAA,EAAA,GAAA,KAAA,aAAA,GAAA,MAAA,IAAA,UAAA,qCAAA,SAAA,EAAA,EAAA,GAAA,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,OAAA,IAAA,CAAA,IAAA,EAAA,EAAA,GAAA,EAAA,WAAA,EAAA,aAAA,EAAA,EAAA,cAAA,EAAA,UAAA,IAAA,EAAA,UAAA,GAAA,OAAA,eAAA,EAAA,EAAA,IAAA,IAAA,SAAA,EAAA,EAAA,EAAA,GAAA,OAAA,GAAA,EAAA,EAAA,UAAA,GAAA,GAAA,EAAA,EAAA,GAAA,EATME,IAAAA,EASN,WARkB,SAAA,IAAA,EAAA,KAAA,GACLC,KAAAA,OAOb,OAAA,EAAA,EAAA,CAAA,CAAA,IAAA,OALW,MAAA,WACCnB,IAAAA,EAAJ,gBAIR,EAAA,GAAAI,OAAOgB,cAAgB,IAAIF","file":"monitoring-sdk.map","sourceRoot":"..","sourcesContent":["/*\n * @Author: wenquan.huang \n * @Date: 2018-11-16 17:15:09 \n * @Last Modified by: wq599263163@163.com\n * @Last Modified time: 2018-11-16 18:45:01\n */\n\n\nexport class ListenError {\n    constructor() {\n        this.initError();\n        this.initPromiseError();\n        this.initConsoleError();\n    }\n\n    /**\n     * 初始化全局错误监听\n     */\n    initError() {\n        window.addEventListener('error', ({\n            message,\n            filename,\n            lineno,\n            colno,\n            error\n        }) => {\n            console.log(\"错误信息：\", message);\n            console.log(\"出错文件：\", filename);\n            console.log(\"出错行号：\", lineno);\n            console.log(\"出错列号：\", colno);\n            console.log(\"错误详情：\", error);\n        })\n    }\n\n    /**\n     * 初始化 promise 错误 监听\n     */\n    initPromiseError() {\n        window.addEventListener('unhandledrejection', event => {\n            console.log('unhandledrejection:' + event.reason); // 捕获后自定义处理\n        });\n    }\n\n    /**\n     * 劫持console.error 错误\n     */\n    initConsoleError() {\n        let consoleError = window.console.error;\n        const self = this;\n        window.console.error = function() {\n            console.log('initConsoleError', arguments)\n            consoleError.apply(window, arguments);\n        };\n    }\n\n}","/*\n * @Author: wenquan.huang \n * @Date: 2018-11-15 13:28:51 \n * @Last Modified by: wq599263163@163.com\n * @Last Modified time: 2018-11-16 17:27:30\n */\n\nimport {\n    ListenError\n} from './lib/ListenError'\n\nclass MonitoringSDK {\n    constructor() {\n        this.init()\n    }\n    init() {\n        new ListenError()\n    }\n}\n\nwindow.monitoringSDK = new MonitoringSDK()"]}